<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8">
  <title data-key="titleTag">Zero Quantum FrequencyтДв тАУ рдорд╛рд░реНрдЧ рд╕рдВрдХреЗрдд</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    body {
      background: radial-gradient(circle, #020617, #000);
      color: #e5e7eb;
      font-family: sans-serif;
      padding: 30px;
      line-height: 1.8;
    }
    h1 {
      text-align: center;
      color: #38bdf8;
      margin-bottom: 10px;
    }
    .subtitle {
      text-align: center;
      font-size: 16px;
      color: #94a3b8;
      margin-bottom: 30px;
    }
    .lang {
      text-align: center;
      margin-bottom: 20px;
    }
    .lang button {
      margin: 0 6px;
      padding: 6px 12px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
      background:#1e293b;
      color:#e5e7eb;
    }
    .card {
      background: rgba(255,255,255,0.05);
      border-radius: 14px;
      padding: 25px;
      margin-bottom: 25px;
    }
    .card h2 {
      color: #fbbf24;
      font-size: 20px;
      margin-bottom: 10px;
    }
    .practice {
      background: rgba(34,197,94,0.12);
      border-left: 4px solid #22c55e;
      padding: 20px;
      border-radius: 10px;
      margin-top: 30px;
    }
    .install-box {
      margin-top: 40px;
      padding: 20px;
      border-radius: 14px;
      background: rgba(255,255,255,0.06);
      text-align: center;
    }
    button.main {
      display: block;
      margin: 30px auto 0;
      padding: 14px 26px;
      font-size: 16px;
      background: #22c55e;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      color: #020617;
    }
    .manual-hint {
      font-size: 13px;
      opacity: 0.7;
      margin-top: 10px;
      display: none;
    }
  </style>
</head>

<body>

<div class="lang">
  <button onclick="setLang('hi')">рд╣рд┐рдиреНрджреА</button>
  <button onclick="setLang('en')">English</button>
</div>

<h1 data-key="title">Zero Quantum FrequencyтДв</h1>
<div class="subtitle" data-key="subtitle">
  рдпрд╣ рдЙрддреНрддрд░ рдирд╣реАрдВ рд╣реИ тАУ рдпрд╣ рд╕реНрдорд░рдг рд╣реИ
</div>

<div class="card">
  <h2 id="resultTitle"></h2>
  <p id="resultText"></p>
</div>

<div class="practice">
  <h2 data-key="practiceTitle">рдЖрдЬ рдХреЗ рд▓рд┐рдП рд╕реВрдХреНрд╖реНрдо рдЕрднреНрдпрд╛рд╕</h2>
  <p id="practiceText"></p>
</div>

<div id="installBox" class="install-box">
  <p data-key="installText">
    рдпрджрд┐ рдпрд╣ рдЕрдиреБрднрд╡ рдЙрдкрдпреЛрдЧреА рд▓рдЧрд╛ рд╣реЛ,<br>
    рддреЛ рдЖрдк рдЗрд╕реЗ рдЕрдкрдиреЗ рдЬреАрд╡рди рдореЗрдВ рд╕реНрдерд╛рдпреА рд░реВрдк рд╕реЗ рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВред
  </p>

  <button id="installBtn" data-key="installBtn">
    рдЗрд╕ рдЕрдиреБрднрд╡ рдХреЛ рдЕрдкрдиреЗ рдлреЛрди рдореЗрдВ рдЬреЛрдбрд╝реЗрдВ
  </button>

  <p id="manualHint" class="manual-hint" data-key="manual">
    Chrome рдореЗрдВ тЛо рдореЗрдиреВ рдЦреЛрд▓реЗрдВ<br>
    рдФрд░ тАЬAdd to Home screenтАЭ рдЪреБрдиреЗрдВ
  </p>
</div>

<button class="main" onclick="location.href='index.html'" data-key="restart">
  рдлрд┐рд░ рд╕реЗ рдЕрдиреБрднрд╡ рдХрд░реЗрдВ
</button>

<script>
/* ЁЯМР LANGUAGE TEXT */
const ui = {
  hi: {
    titleTag: "Zero Quantum FrequencyтДв тАУ рдорд╛рд░реНрдЧ рд╕рдВрдХреЗрдд",
    title: "Zero Quantum FrequencyтДв",
    subtitle: "рдпрд╣ рдЙрддреНрддрд░ рдирд╣реАрдВ рд╣реИ тАУ рдпрд╣ рд╕реНрдорд░рдг рд╣реИ",
    practiceTitle: "рдЖрдЬ рдХреЗ рд▓рд┐рдП рд╕реВрдХреНрд╖реНрдо рдЕрднреНрдпрд╛рд╕",
    installText: "рдпрджрд┐ рдпрд╣ рдЕрдиреБрднрд╡ рдЙрдкрдпреЛрдЧреА рд▓рдЧрд╛ рд╣реЛ,<br>рддреЛ рдЖрдк рдЗрд╕реЗ рдЕрдкрдиреЗ рдЬреАрд╡рди рдореЗрдВ рд╕реНрдерд╛рдпреА рд░реВрдк рд╕реЗ рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВред",
    installBtn: "рдЗрд╕ рдЕрдиреБрднрд╡ рдХреЛ рдЕрдкрдиреЗ рдлреЛрди рдореЗрдВ рдЬреЛрдбрд╝реЗрдВ",
    manual: "Chrome рдореЗрдВ тЛо рдореЗрдиреВ рдЦреЛрд▓реЗрдВ<br>рдФрд░ тАЬAdd to Home screenтАЭ рдЪреБрдиреЗрдВ",
    restart: "рдлрд┐рд░ рд╕реЗ рдЕрдиреБрднрд╡ рдХрд░реЗрдВ",

    meter: {
      low: {
        title: "рдХрд░реНрддрд╛рдкрди рдХреА рдЕрд╡рд╕реНрдерд╛",
        text: "рдЗрд╕ рд╕рдордп рдЖрдк рдЬреАрд╡рди рдХреЛ рдореБрдЦреНрдпрддрдГ рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдХреЗ рд░реВрдк рдореЗрдВ рдЕрдиреБрднрд╡ рдХрд░ рд░рд╣реЗ рд╣реИрдВред",
        practice: "рдЖрдЬ рдХреЗрд╡рд▓ рдпрд╣ рджреЗрдЦреЗрдВ рдХрд┐ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХреИрд╕реЗ рдЙрдарддреА рд╣реИред рдХреБрдЫ рдмрджрд▓рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рди рдХрд░реЗрдВред"
      },
      mid: {
        title: "рд╕рдВрдХреНрд░рдордг рдХреА рдЕрд╡рд╕реНрдерд╛",
        text: "рдЖрдк рдХрд░рдиреЗ рдФрд░ рджреЗрдЦрдиреЗ рдХреЗ рдмреАрдЪ рдЦрдбрд╝реЗ рд╣реИрдВред",
        practice: "рд╣рд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд╕реЗ рдкрд╣рд▓реЗ рджреЛ рд╢реНрд╡рд╛рд╕ рд▓реЗрдВ рдФрд░ рдЙрд╕реЗ рджреЗрдЦреЗрдВред"
      },
      high: {
        title: "рджреНрд░рд╖реНрдЯрд╛ рднрд╛рд╡ рдХреА рдЕрд╡рд╕реНрдерд╛",
        text: "рдЖрдк рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд╕реЗ рдкрд╣рд▓реЗ рджреЗрдЦрдиреЗ рд▓рдЧреЗ рд╣реИрдВред",
        practice: "рдЬреЛ рдШрдЯ рд░рд╣рд╛ рд╣реИ, рдЙрд╕реЗ рдШрдЯрдиреЗ рджреЗрдВред рдХреБрдЫ рдЬреЛрдбрд╝рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВред"
      }
    },

    spin: {
      reaction: "рдЖрдЬ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХреЛ рд░реЛрдХрдиреЗ рдХреА рдЬрд╝рд░реВрд░рдд рдирд╣реАрдВред рдХреЗрд╡рд▓ рдЙрд╕реЗ рдкрд╣рдЪрд╛рдиреЗрдВред",
      control: "рдЬрд╣рд╛рдБ рдирд┐рдпрдВрддреНрд░рдг рдХреА рдЗрдЪреНрдЫрд╛ рдЙрдареЗ, рд╡рд╣рд╛рдБ рдереЛрдбрд╝рд╛ рдвреАрд▓ рджреЗрдВред",
      awareness: "рджреЗрдЦрдирд╛ рд╕реНрд╡рдпрдВ рдкрд░рд┐рд╡рд░реНрддрди рд╣реИред рдЗрд╕реА рдореЗрдВ рдард╣рд░реЗрдВред",
      witness: "рдЖрдк рд╕рд╛рдХреНрд╖реА рднрд╛рд╡ рдХреЗ рдирд┐рдХрдЯ рд╣реИрдВред рдореМрди рдХреЛ рдЕрдиреБрднрд╡ рдХрд░реЗрдВред",
      peace: "рдХреБрдЫ рднреА рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВред рд╢рд╛рдВрддрд┐ рдкрд╣рд▓реЗ рд╕реЗ рд╣реИред",
      silence: "рдореМрди рд╕реНрд╡рдпрдВ рдорд╛рд░реНрдЧрджрд░реНрд╢рди рдХрд░ рд░рд╣рд╛ рд╣реИред"
    }
  },

  en: {
    titleTag: "Zero Quantum FrequencyтДв тАУ Guidance",
    title: "Zero Quantum FrequencyтДв",
    subtitle: "Not an answer тАУ a remembrance",
    practiceTitle: "A subtle practice for today",
    installText: "If this experience felt meaningful,<br>you can make it part of your daily life.",
    installBtn: "Add this experience to your phone",
    manual: "Open Chrome тЛо menu<br>and choose тАЬAdd to Home screenтАЭ",
    restart: "Experience again",

    meter: {
      low: {
        title: "State of Doership",
        text: "You are experiencing life mainly as the doer.",
        practice: "Today, simply notice reactions without trying to change them."
      },
      mid: {
        title: "State of Transition",
        text: "You are between doing and witnessing.",
        practice: "Before reacting, take two breaths and observe."
      },
      high: {
        title: "State of Witnessing",
        text: "You are beginning to see before reacting.",
        practice: "Let whatever happens, happen."
      }
    },

    spin: {
      reaction: "Do not stop the reaction. Simply notice it.",
      control: "Where control arises, gently soften.",
      awareness: "Seeing itself is the transformation.",
      witness: "You are close to witnessing. Rest here.",
      peace: "Nothing needs to be done. Peace is already present.",
      silence: "Silence itself is guiding you."
    }
  }
};

function setLang(lang) {
  localStorage.setItem("lang", lang);
  document.documentElement.lang = lang;

  document.querySelectorAll("[data-key]").forEach(el => {
    if (ui[lang][el.dataset.key]) {
      el.innerHTML = ui[lang][el.dataset.key];
    }
  });

  renderResult();
}

function renderResult() {
  const lang = localStorage.getItem("lang") || "hi";
  const t = ui[lang];

  // meter score
  const answers = JSON.parse(localStorage.getItem("zqf_answers")) || [];
  let percent = answers.length
    ? Math.round(answers.reduce((a,b)=>a+b,0) / (answers.length*3) * 100)
    : 0;

  let level = percent <= 33 ? "low" : percent <= 66 ? "mid" : "high";

  // spin colour
  const spin = localStorage.getItem("spin_result") || "awareness";

  resultTitle.innerText = t.meter[level].title;
  resultText.innerText = t.meter[level].text;
  practiceText.innerText = t.spin[spin] || t.meter[level].practice;
}

/* INSTALL */
let deferredPrompt;
const installBtn = document.getElementById("installBtn");
const installBox = document.getElementById("installBox");
const manualHint = document.getElementById("manualHint");

if (window.matchMedia('(display-mode: standalone)').matches) {
  installBox.style.display = "none";
}

window.addEventListener("beforeinstallprompt", e => {
  e.preventDefault();
  deferredPrompt = e;
});

installBtn.addEventListener("click", async () => {
  if (!deferredPrompt) {
    manualHint.style.display = "block";
    return;
  }
  deferredPrompt.prompt();
  await deferredPrompt.userChoice;
  installBox.style.display = "none";
  deferredPrompt = null;
});

setLang(localStorage.getItem("lang") || "hi");
</script>

</body>
</html>
